#!/usr/bin/env python3
import tree


def test_ziptree():
    t1 = (3, ((4, ((7, ()), (9, ()))), (6, ((5, ((8, ((4, ()), )), )), (6, ()),
                                            (8, ())))))

    t2 = (8, ((2, ((9, ()), (0, ()))), (2, ((8, ((2, ((0, ()), )), )), (5, ()),
                                            (7, ())))))

    t3 = (0, ((0, ((0, ()), (0, ()))), (0, ((0, ((0, ((0, ()), )), )), (0, ()),
                                            (0, ())))))

    t_ass = tree.ziptree(t1, t2, t3)
    t123 = tree.nodemap(t_ass, lambda x: x[0] * 100 + x[1] * 10 + x[2])

    exp_t123 = (380, ((420, ((790, ()), (900, ()))),
                      (620, ((580, ((820, ((400, ()), )), )), (650, ()),
                             (870, ())))))

    assert t123 == exp_t123
